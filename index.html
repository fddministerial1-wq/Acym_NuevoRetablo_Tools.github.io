<div style="text-align: center; font-family: sans-serif;">
    <button id="btn" style="padding: 15px; background: #4285F4; color: white; border: none; border-radius: 8px;">
        ðŸ“¸ HACER CLIC PARA ESCANEAR
    </button>
    <div id="reader" style="width: 100%; max-width: 400px; margin: 10px auto;"></div>
    <p id="txt" style="color: #666;">Estado: Esperando interacciÃ³n</p>
</div>

<script src="https://unpkg.com/html5-qrcode"></script>
<script>
    const btn = document.getElementById('btn');
    const txt = document.getElementById('txt');

    btn.onclick = function() {
        txt.innerText = "Solicitando permisos...";
        const html5QrCode = new Html5Qrcode("reader");
        
        html5QrCode.start(
            { facingMode: "environment" }, 
            { fps: 10, qrbox: 250 },
            (decodedText) => {
                txt.innerHTML = "Lector: <a href='" + decodedText + "'>" + decodedText + "</a>";
            }
        ).catch(err => {
            txt.innerText = "Error crÃ­tico: " + err;
            console.error(err);
        });
        btn.style.display = "none";
    };
</script>